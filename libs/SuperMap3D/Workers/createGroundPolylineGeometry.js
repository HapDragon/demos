define(["./buildModuleUrl-9a89655b","./Cartesian2-99e64452","./Cartesian4-69ef58e5","./Cartographic-00721f3e","./Check-7b2a090c","./when-b60132fc","./Math-119be1a3","./EllipsoidRhumbLine-d305ae76","./FeatureDetection-ab6f364c","./EllipsoidGeodesic-dbda39ad","./EncodedCartesian3-3bcc61bb","./GeometryAttribute-f3b3c776","./Plane-622eaee2","./Transforms-f4127659","./WebMercatorProjection-2013e020","./WebGLConstants-aba9fc67","./PrimitiveType-ebb8c588"],(function(e,a,t,i,n,r,s,o,l,u,c,h,C,d,p,g,f){"use strict";function m(a){a=r.defaultValue(a,{}),this._ellipsoid=r.defaultValue(a.ellipsoid,e.Ellipsoid.WGS84),this._rectangle=r.defaultValue(a.rectangle,e.Rectangle.MAX_VALUE),this._projection=new e.GeographicProjection(this._ellipsoid),this._numberOfLevelZeroTilesX=r.defaultValue(a.numberOfLevelZeroTilesX,2),this._numberOfLevelZeroTilesY=r.defaultValue(a.numberOfLevelZeroTilesY,1),this._customDPI=a.customDPI,this._scaleDenominators=a.scaleDenominators,this._tileWidth=r.defaultValue(a.tileWidth,256),this._tileHeight=r.defaultValue(a.tileHeight,256),this._beginLevel=r.defaultValue(a.beginLevel,0)}Object.defineProperties(m.prototype,{ellipsoid:{get:function(){return this._ellipsoid}},rectangle:{get:function(){return this._rectangle}},projection:{get:function(){return this._projection}},beginLevel:{get:function(){return this._beginLevel}}}),m.prototype.getNumberOfXTilesAtLevel=function(e){return this._numberOfLevelZeroTilesX<<e-this._beginLevel},m.prototype.getNumberOfYTilesAtLevel=function(e){return this._numberOfLevelZeroTilesY<<e-this._beginLevel},m.prototype.rectangleToNativeRectangle=function(a,t){var i=s.CesiumMath.toDegrees(a.west),n=s.CesiumMath.toDegrees(a.south),o=s.CesiumMath.toDegrees(a.east),l=s.CesiumMath.toDegrees(a.north);return r.defined(t)?(t.west=i,t.south=n,t.east=o,t.north=l,t):new e.Rectangle(i,n,o,l)},m.prototype.tileXYToNativeRectangle=function(e,a,t,i){var n=this.tileXYToRectangle(e,a,t,i);return n.west=s.CesiumMath.toDegrees(n.west),n.south=s.CesiumMath.toDegrees(n.south),n.east=s.CesiumMath.toDegrees(n.east),n.north=s.CesiumMath.toDegrees(n.north),n},m.prototype.tileXYToRectangle=function(a,t,i,n){var o=this._rectangle;if(r.defined(this._customDPI)&&r.defined(this._scaleDenominators)){var l=this.calculateResolution(i),u=-s.CesiumMath.PI+a*this._tileWidth*l.x,c=-s.CesiumMath.PI+(a+1)*this._tileWidth*l.x,h=s.CesiumMath.PI_OVER_TWO-t*this._tileHeight*l.y,C=s.CesiumMath.PI_OVER_TWO-(t+1)*this._tileHeight*l.y;return r.defined(n)?(n.west=u,n.south=C,n.east=c,n.north=h,n):new e.Rectangle(u,C,c,h)}var d=this.getNumberOfXTilesAtLevel(i),p=this.getNumberOfYTilesAtLevel(i),g=o.width/d,f=(u=a*g+o.west,c=(a+1)*g+o.west,o.height/p);h=o.north-t*f,C=o.north-(t+1)*f;return r.defined(n)||(n=new e.Rectangle(u,C,c,h)),n.west=u,n.south=C,n.east=c,n.north=h,n},m.prototype.positionToTileXY=function(t,i,n){var o=this._rectangle;if(e.Rectangle.contains(o,t)){var l=this.getNumberOfXTilesAtLevel(i),u=this.getNumberOfYTilesAtLevel(i),c=o.width/l,h=o.height/u;if(r.defined(this._customDPI)&&r.defined(this._scaleDenominators)){var C=this.calculateResolution(i);c=this._tileWidth*C.x,h=this._tileHeight*C.y}var d=t.longitude;o.east<o.west&&(d+=s.CesiumMath.TWO_PI);var p=(d-o.west)/c|0;p>=l&&(p=l-1);var g=(o.north-t.latitude)/h|0;return g>=u&&(g=u-1),r.defined(n)?(n.x=p,n.y=g,n):new a.Cartesian2(p,g)}},m.prototype.calculateResolution=function(t){var i=.0254*this._scaleDenominators[t-this._beginLevel]/this._customDPI.x,n=.0254*this._scaleDenominators[t-this._beginLevel]/this._customDPI.y,r=e.Ellipsoid.WGS84.maximumRadius;return new a.Cartesian2(i/r,n/r)};var v=new t.Cartesian3,w=new t.Cartesian3,y=new i.Cartographic,_=new t.Cartesian3,T=new t.Cartesian3,M=new e.BoundingSphere,E=new m,b=[new i.Cartographic,new i.Cartographic,new i.Cartographic,new i.Cartographic],P=new a.Cartesian2,O={};function I(e){i.Cartographic.fromRadians(e.east,e.north,0,b[0]),i.Cartographic.fromRadians(e.west,e.north,0,b[1]),i.Cartographic.fromRadians(e.east,e.south,0,b[2]),i.Cartographic.fromRadians(e.west,e.south,0,b[3]);var a,t=0,n=0,r=0,s=0,o=O._terrainHeightsMaxLevel;for(a=0;a<=o;++a){for(var l=!1,u=0;u<4;++u){var c=b[u];if(E.positionToTileXY(c,a,P),0===u)r=P.x,s=P.y;else if(r!==P.x||s!==P.y){l=!0;break}}if(l)break;t=r,n=s}if(0!==a)return{x:t,y:n,level:a>o?o:a-1}}O.initialize=function(){var a=O._initPromise;return r.defined(a)||(a=e.Resource.fetchJson(e.buildModuleUrl("Assets/approximateTerrainHeights.json")).then((function(e){O._terrainHeights=e})),O._initPromise=a),a},O.getMinimumMaximumHeights=function(a,i){i=r.defaultValue(i,e.Ellipsoid.WGS84);var n=I(a),s=O._defaultMinTerrainHeight,o=O._defaultMaxTerrainHeight;if(r.defined(n)){var l=n.level+"-"+n.x+"-"+n.y,u=O._terrainHeights[l];r.defined(u)&&(s=u[0],o=u[1]),i.cartographicToCartesian(e.Rectangle.northeast(a,y),v),i.cartographicToCartesian(e.Rectangle.southwest(a,y),w),t.Cartesian3.midpoint(w,v,_);var c=i.scaleToGeodeticSurface(_,T);if(r.defined(c)){var h=t.Cartesian3.distance(_,c);s=Math.min(s,-h)}else s=O._defaultMinTerrainHeight}return{minimumTerrainHeight:s=Math.max(O._defaultMinTerrainHeight,s),maximumTerrainHeight:o}},O.getBoundingSphere=function(a,t){t=r.defaultValue(t,e.Ellipsoid.WGS84);var i=I(a),n=O._defaultMaxTerrainHeight;if(r.defined(i)){var s=i.level+"-"+i.x+"-"+i.y,o=O._terrainHeights[s];r.defined(o)&&(n=o[1])}var l=e.BoundingSphere.fromRectangle3D(a,t,0);return e.BoundingSphere.fromRectangle3D(a,t,n,M),e.BoundingSphere.union(l,M,l)},O._terrainHeightsMaxLevel=6,O._defaultMaxTerrainHeight=9e3,O._defaultMinTerrainHeight=-1e5,O._terrainHeights=void 0,O._initPromise=void 0,Object.defineProperties(O,{initialized:{get:function(){return r.defined(O._terrainHeights)}}});var L=[e.GeographicProjection,p.WebMercatorProjection],S=L.length,k=Math.cos(s.CesiumMath.toRadians(30)),A=Math.cos(s.CesiumMath.toRadians(150));function D(a){var t=(a=r.defaultValue(a,r.defaultValue.EMPTY_OBJECT)).positions;this.width=r.defaultValue(a.width,1),this._positions=t,this.granularity=r.defaultValue(a.granularity,9999),this.loop=r.defaultValue(a.loop,!1),this.arcType=r.defaultValue(a.arcType,o.ArcType.GEODESIC),this._ellipsoid=r.defaultValue(a.ellipsoid,e.Ellipsoid.WGS84),this._projectionIndex=0,this._workerName="createGroundPolylineGeometry",this._scene3DOnly=!1}Object.defineProperties(D.prototype,{packedLength:{get:function(){return 1+3*this._positions.length+1+1+1+e.Ellipsoid.packedLength+1+1}}}),D.setProjectionAndEllipsoid=function(e,a){for(var t=0,i=0;i<S;i++)if(a instanceof L[i]){t=i;break}e._projectionIndex=t,e._ellipsoid=a.ellipsoid};var N=new t.Cartesian3,x=new t.Cartesian3,R=new t.Cartesian3;function H(e,a,i,n,r){var s=F(n,e,0,N),o=F(n,e,i,x),l=F(n,a,0,R),u=Y(o,s,x),c=Y(l,s,R);return t.Cartesian3.cross(c,u,r),t.Cartesian3.normalize(r,r)}var V=new i.Cartographic,z=new t.Cartesian3,j=new t.Cartesian3,G=new t.Cartesian3;function B(e,a,i,n,r,s,l,c,h,C,d){if(0!==r){var p;s===o.ArcType.GEODESIC?p=new u.EllipsoidGeodesic(e,a,l):s===o.ArcType.RHUMB&&(p=new o.EllipsoidRhumbLine(e,a,l));var g=p.surfaceDistance;if(!(g<r))for(var f=H(e,a,n,l,G),m=Math.ceil(g/r),v=g/m,w=v,y=m-1,_=c.length,T=0;T<y;T++){var M=p.interpolateUsingSurfaceDistance(w,V),E=F(l,M,i,z),b=F(l,M,n,j);t.Cartesian3.pack(f,c,_),t.Cartesian3.pack(E,h,_),t.Cartesian3.pack(b,C,_),d.push(M.latitude),d.push(M.longitude),_+=3,w+=v}}}var W=new i.Cartographic;function F(e,a,t,n){return i.Cartographic.clone(a,W),W.height=t,i.Cartographic.toCartesian(W,e,n)}function Y(e,a,i){return t.Cartesian3.subtract(e,a,i),t.Cartesian3.normalize(i,i),i}D.pack=function(a,i,n){var s=r.defaultValue(n,0),o=a._positions,l=o.length;i[s++]=l;for(var u=0;u<l;++u){var c=o[u];t.Cartesian3.pack(c,i,s),s+=3}return i[s++]=a.granularity,i[s++]=a.loop?1:0,i[s++]=a.arcType,e.Ellipsoid.pack(a._ellipsoid,i,s),s+=e.Ellipsoid.packedLength,i[s++]=a._projectionIndex,i[s++]=a._scene3DOnly?1:0,i},D.unpack=function(a,i,n){for(var s=r.defaultValue(i,0),o=a[s++],l=new Array(o),u=0;u<o;u++)l[u]=t.Cartesian3.unpack(a,s),s+=3;var c=a[s++],h=1===a[s++],C=a[s++],d=e.Ellipsoid.unpack(a,s);s+=e.Ellipsoid.packedLength;var p=a[s++],g=1===a[s++];if(!r.defined(n)){var f=new D({positions:l,granularity:c,loop:h,arcType:C,ellipsoid:d});return f._projectionIndex=p,f._scene3DOnly=g,f}return n._positions=l,n.granularity=c,n.loop=h,n.arcType=C,n._ellipsoid=d,n._projectionIndex=p,n._scene3DOnly=g,n};var X=new t.Cartesian3,q=new t.Cartesian3,U=new t.Cartesian3,Z=new t.Cartesian3,Q=new C.Plane(t.Cartesian3.UNIT_X,0),J=new t.Cartesian3;function K(e,a,i,n,r){var o=Y(i,a,J),l=Y(e,a,X),u=Y(n,a,q),c=t.Cartesian3.cross(o,l,Z);c=t.Cartesian3.normalize(c,c);var h=C.Plane.fromPointNormal(a,c,Q),d=C.Plane.getPointDistance(h,n);if(s.CesiumMath.equalsEpsilon(d,0,s.CesiumMath.EPSILON7))return t.Cartesian3.clone(c,r),r;r=t.Cartesian3.add(u,l,r),r=t.Cartesian3.normalize(r,r);var p=t.Cartesian3.cross(o,r,U);return t.Cartesian3.normalize(p,p),t.Cartesian3.cross(p,o,r),t.Cartesian3.normalize(r,r),t.Cartesian3.dot(u,p)<0&&(r=t.Cartesian3.negate(r,r)),r}var $=C.Plane.fromPointNormal(t.Cartesian3.ZERO,t.Cartesian3.UNIT_Y),ee=new t.Cartesian3,ae=new t.Cartesian3,te=new t.Cartesian3,ie=new t.Cartesian3,ne=new t.Cartesian3,re=new t.Cartesian3,se=new i.Cartographic,oe=new i.Cartographic,le=new i.Cartographic;D.createGeometry=function(a){var n,u,d,p,g,f,m=!a._scene3DOnly,v=a.loop,w=a._ellipsoid,y=a.granularity,_=a.arcType,T=new L[a._projectionIndex](w),M=1e3,E=a._positions,b=E.length;2===b&&(v=!1);var P,I,S,A=new o.EllipsoidRhumbLine(void 0,void 0,w),D=[E[0]];for(u=0;u<b-1;u++)d=E[u],p=E[u+1],P=C.IntersectionTests.lineSegmentPlane(d,p,$,re),!r.defined(P)||t.Cartesian3.equalsEpsilon(P,d,s.CesiumMath.EPSILON7)||t.Cartesian3.equalsEpsilon(P,p,s.CesiumMath.EPSILON7)||(a.arcType===o.ArcType.GEODESIC?D.push(t.Cartesian3.clone(P)):a.arcType===o.ArcType.RHUMB&&(S=w.cartesianToCartographic(P,se).longitude,g=w.cartesianToCartographic(d,se),f=w.cartesianToCartographic(p,oe),A.setEndPoints(g,f),I=A.findIntersectionWithLongitude(S,le),P=w.cartographicToCartesian(I,re),!r.defined(P)||t.Cartesian3.equalsEpsilon(P,d,s.CesiumMath.EPSILON7)||t.Cartesian3.equalsEpsilon(P,p,s.CesiumMath.EPSILON7)||D.push(t.Cartesian3.clone(P)))),D.push(p);v&&(d=E[b-1],p=E[0],P=C.IntersectionTests.lineSegmentPlane(d,p,$,re),!r.defined(P)||t.Cartesian3.equalsEpsilon(P,d,s.CesiumMath.EPSILON7)||t.Cartesian3.equalsEpsilon(P,p,s.CesiumMath.EPSILON7)||(a.arcType===o.ArcType.GEODESIC?D.push(t.Cartesian3.clone(P)):a.arcType===o.ArcType.RHUMB&&(S=w.cartesianToCartographic(P,se).longitude,g=w.cartesianToCartographic(d,se),f=w.cartesianToCartographic(p,oe),A.setEndPoints(g,f),I=A.findIntersectionWithLongitude(S,le),P=w.cartographicToCartesian(I,re),!r.defined(P)||t.Cartesian3.equalsEpsilon(P,d,s.CesiumMath.EPSILON7)||t.Cartesian3.equalsEpsilon(P,p,s.CesiumMath.EPSILON7)||D.push(t.Cartesian3.clone(P)))));var N=D.length,x=new Array(N);for(u=0;u<N;u++){var R=i.Cartographic.fromCartesian(D[u],w);R.height=0,x[u]=R}if(!((N=(x=o.arrayRemoveDuplicates(x,i.Cartographic.equalsEpsilon)).length)<2)){var V=[],z=[],j=[],G=[],W=ee,X=ae,q=te,U=ie,Z=ne,Q=x[0],J=x[1];for(W=F(w,x[N-1],0,W),U=F(w,J,0,U),X=F(w,Q,0,X),q=F(w,Q,M,q),Z=v?K(W,X,q,U,Z):H(Q,J,M,w,Z),t.Cartesian3.pack(Z,z,0),t.Cartesian3.pack(X,j,0),t.Cartesian3.pack(q,G,0),V.push(Q.latitude),V.push(Q.longitude),B(Q,J,0,M,y,_,w,z,j,G,V),u=1;u<N-1;++u){W=t.Cartesian3.clone(X,W),X=t.Cartesian3.clone(U,X);var ue=x[u];F(w,ue,M,q),F(w,x[u+1],0,U),K(W,X,q,U,Z),n=z.length,t.Cartesian3.pack(Z,z,n),t.Cartesian3.pack(X,j,n),t.Cartesian3.pack(q,G,n),V.push(ue.latitude),V.push(ue.longitude),B(x[u],x[u+1],0,M,y,_,w,z,j,G,V)}var ce=x[N-1],he=x[N-2];if(X=F(w,ce,0,X),q=F(w,ce,M,q),v){var de=x[0];Z=K(W=F(w,he,0,W),X,q,U=F(w,de,0,U),Z)}else Z=H(he,ce,M,w,Z);if(n=z.length,t.Cartesian3.pack(Z,z,n),t.Cartesian3.pack(X,j,n),t.Cartesian3.pack(q,G,n),V.push(ce.latitude),V.push(ce.longitude),v){for(B(ce,Q,0,M,y,_,w,z,j,G,V),n=z.length,u=0;u<3;++u)z[n+u]=z[u],j[n+u]=j[u],G[n+u]=G[u];V.push(Q.latitude),V.push(Q.longitude)}return function(a,i,n,r,o,u,C){var d,p,g,f,m,v,w=i._ellipsoid,y=n.length/3-1,_=8*y,T=4*_,M=36*y,E=_>65535?new Uint32Array(M):new Uint16Array(M),b=new Float64Array(3*_),P=new Float32Array(T),I=new Float32Array(T),L=new Float32Array(T),S=new Float32Array(T),A=new Float32Array(T);C&&(g=new Float32Array(T),f=new Float32Array(T),m=new Float32Array(T),v=new Float32Array(2*_));var D=u.length/2,N=0,x=Me;x.height=0;var R=Ee;R.height=0;var H=be,V=Pe;if(C)for(p=0,d=1;d<D;d++)x.latitude=u[p],x.longitude=u[p+1],R.latitude=u[p+2],R.longitude=u[p+3],H=i.project(x,H),V=i.project(R,V),N+=t.Cartesian3.distance(H,V),p+=2;var z=r.length/3;V=t.Cartesian3.unpack(r,0,V);var j,G=0;for(p=3,d=1;d<z;d++)H=t.Cartesian3.clone(V,H),V=t.Cartesian3.unpack(r,p,V),G+=t.Cartesian3.distance(H,V),p+=3;p=3;var B=0,W=0,F=0,X=0,q=!1,U=t.Cartesian3.unpack(n,0,Ie),Z=t.Cartesian3.unpack(r,0,Pe),Q=t.Cartesian3.unpack(o,0,Se);if(a){Ce(Q,t.Cartesian3.unpack(n,n.length-6,Oe),U,Z)&&(Q=t.Cartesian3.negate(Q,Q))}var J=0,K=0,$=0;for(d=0;d<y;d++){var ee,ae,te,ie,ne=t.Cartesian3.clone(U,Oe),re=t.Cartesian3.clone(Z,be),se=t.Cartesian3.clone(Q,Le);if(q&&(se=t.Cartesian3.negate(se,se)),U=t.Cartesian3.unpack(n,p,Ie),Z=t.Cartesian3.unpack(r,p,Pe),q=Ce(Q=t.Cartesian3.unpack(o,p,Se),ne,U,Z),x.latitude=u[B],x.longitude=u[B+1],R.latitude=u[B+2],R.longitude=u[B+3],C){var oe=Te(x,R);ee=i.project(x,He);var le=Y(ae=i.project(R,Ve),ee,Ze);le.y=Math.abs(le.y),te=ze,ie=je,0===oe||t.Cartesian3.dot(le,t.Cartesian3.UNIT_Y)>k?(te=fe(i,x,se,ee,ze),ie=fe(i,R,Q,ae,je)):1===oe?(ie=fe(i,R,Q,ae,je),te.x=0,te.y=s.CesiumMath.sign(x.longitude-Math.abs(R.longitude)),te.z=0):(te=fe(i,x,se,ee,ze),ie.x=0,ie.y=s.CesiumMath.sign(x.longitude-R.longitude),ie.z=0)}var ue=t.Cartesian3.distance(re,Z),ce=c.EncodedCartesian3.fromCartesian(ne,qe),he=t.Cartesian3.subtract(U,ne,Ge),de=t.Cartesian3.normalize(he,Fe),pe=t.Cartesian3.subtract(re,ne,Be);pe=t.Cartesian3.normalize(pe,pe);var ge=t.Cartesian3.cross(de,pe,Fe);ge=t.Cartesian3.normalize(ge,ge);var me=t.Cartesian3.cross(pe,se,Ye);me=t.Cartesian3.normalize(me,me);var ve=t.Cartesian3.subtract(Z,U,We);ve=t.Cartesian3.normalize(ve,ve);var ye=t.Cartesian3.cross(Q,ve,Xe);ye=t.Cartesian3.normalize(ye,ye);var ta,ia,na,ra=ue/G,sa=J/G,oa=0,la=0,ua=0;if(C){oa=t.Cartesian3.distance(ee,ae),ta=c.EncodedCartesian3.fromCartesian(ee,Ue),ia=t.Cartesian3.subtract(ae,ee,Ze);var ca=(na=t.Cartesian3.normalize(ia,Qe)).x;na.x=na.y,na.y=-ca,la=oa/N,ua=K/N}for(j=0;j<8;j++){var ha=X+4*j,Ca=W+2*j,da=ha+3,pa=j<4?1:-1,ga=2===j||3===j||6===j||7===j?1:-1;t.Cartesian3.pack(ce.high,P,ha),P[da]=he.x,t.Cartesian3.pack(ce.low,I,ha),I[da]=he.y,t.Cartesian3.pack(me,L,ha),L[da]=he.z,t.Cartesian3.pack(ye,S,ha),S[da]=ra*pa,t.Cartesian3.pack(ge,A,ha);var fa=sa*ga;0===fa&&ga<0&&(fa=Number.POSITIVE_INFINITY),A[da]=fa,C&&(g[ha]=ta.high.x,g[ha+1]=ta.high.y,g[ha+2]=ta.low.x,g[ha+3]=ta.low.y,m[ha]=-te.y,m[ha+1]=te.x,m[ha+2]=ie.y,m[ha+3]=-ie.x,f[ha]=ia.x,f[ha+1]=ia.y,f[ha+2]=na.x,f[ha+3]=na.y,v[Ca]=la*pa,0===(fa=ua*ga)&&ga<0&&(fa=Number.POSITIVE_INFINITY),v[Ca+1]=fa)}var ma=xe,va=Re,wa=De,ya=Ne,_a=e.Rectangle.fromCartographicArray(ke,Ae),Ta=O.getMinimumMaximumHeights(_a,w),Ma=Ta.minimumTerrainHeight,Ea=Ta.maximumTerrainHeight;$+=Ma,$+=Ea,we(ne,re,Ma,Ea,ma,wa),we(U,Z,Ma,Ea,va,ya);var ba=t.Cartesian3.multiplyByScalar(ge,s.CesiumMath.EPSILON5,Je);t.Cartesian3.add(ma,ba,ma),t.Cartesian3.add(va,ba,va),t.Cartesian3.add(wa,ba,wa),t.Cartesian3.add(ya,ba,ya),_e(ma,va),_e(wa,ya),t.Cartesian3.pack(ma,b,F),t.Cartesian3.pack(va,b,F+3),t.Cartesian3.pack(ya,b,F+6),t.Cartesian3.pack(wa,b,F+9),ba=t.Cartesian3.multiplyByScalar(ge,-2*s.CesiumMath.EPSILON5,Je),t.Cartesian3.add(ma,ba,ma),t.Cartesian3.add(va,ba,va),t.Cartesian3.add(wa,ba,wa),t.Cartesian3.add(ya,ba,ya),_e(ma,va),_e(wa,ya),t.Cartesian3.pack(ma,b,F+12),t.Cartesian3.pack(va,b,F+15),t.Cartesian3.pack(ya,b,F+18),t.Cartesian3.pack(wa,b,F+21),B+=2,p+=3,W+=16,F+=24,X+=32,J+=ue,K+=oa}p=0;var Pa=0;for(d=0;d<y;d++){for(j=0;j<ea;j++)E[p+j]=$e[j]+Pa;Pa+=8,p+=ea}var Oa=Ke;e.BoundingSphere.fromVertices(n,t.Cartesian3.ZERO,3,Oa[0]),e.BoundingSphere.fromVertices(r,t.Cartesian3.ZERO,3,Oa[1]);var Ia=e.BoundingSphere.fromBoundingSpheres(Oa);Ia.radius+=$/(2*y);var La={position:new h.GeometryAttribute({componentDatatype:l.ComponentDatatype.DOUBLE,componentsPerAttribute:3,normalize:!1,values:b}),startHiAndForwardOffsetX:aa(P),startLoAndForwardOffsetY:aa(I),startNormalAndForwardOffsetZ:aa(L),endNormalAndTextureCoordinateNormalizationX:aa(S),rightNormalAndTextureCoordinateNormalizationY:aa(A)};C&&(La.startHiLo2D=aa(g),La.offsetAndRight2D=aa(f),La.startEndNormals2D=aa(m),La.texcoordNormalization2D=new h.GeometryAttribute({componentDatatype:l.ComponentDatatype.FLOAT,componentsPerAttribute:2,normalize:!1,values:v}));return new h.Geometry({attributes:La,indices:E,boundingSphere:Ia})}(v,T,j,G,z,V,m)}};var ue=new t.Cartesian3,ce=new a.Matrix3,he=new d.Quaternion;function Ce(e,i,n,r){var o=Y(n,i,ue),l=t.Cartesian3.dot(o,e);if(l>k||l<A){var u=Y(r,n,J),c=l<A?s.CesiumMath.PI_OVER_TWO:-s.CesiumMath.PI_OVER_TWO,h=d.Quaternion.fromAxisAngle(u,c,he),C=a.Matrix3.fromQuaternion(h,ce);return a.Matrix3.multiplyByVector(C,e,e),!0}return!1}var de=new i.Cartographic,pe=new t.Cartesian3,ge=new t.Cartesian3;function fe(e,a,n,r,o){var l=i.Cartographic.toCartesian(a,e._ellipsoid,pe),u=t.Cartesian3.add(l,n,ge),c=!1,h=e._ellipsoid,C=h.cartesianToCartographic(u,de);Math.abs(a.longitude-C.longitude)>s.CesiumMath.PI_OVER_TWO&&(c=!0,u=t.Cartesian3.subtract(l,n,ge),C=h.cartesianToCartographic(u,de)),C.height=0;var d=e.project(C,o);return(o=t.Cartesian3.subtract(d,r,o)).z=0,o=t.Cartesian3.normalize(o,o),c&&t.Cartesian3.negate(o,o),o}var me=new t.Cartesian3,ve=new t.Cartesian3;function we(e,a,i,n,r,s){var o=t.Cartesian3.subtract(a,e,me);t.Cartesian3.normalize(o,o);var l=i-0,u=t.Cartesian3.multiplyByScalar(o,l,ve);t.Cartesian3.add(e,u,r);var c=n-1e3;u=t.Cartesian3.multiplyByScalar(o,c,ve),t.Cartesian3.add(a,u,s)}var ye=new t.Cartesian3;function _e(e,a){var i=C.Plane.getPointDistance($,e),n=C.Plane.getPointDistance($,a),r=ye;s.CesiumMath.equalsEpsilon(i,0,s.CesiumMath.EPSILON2)?(r=Y(a,e,r),t.Cartesian3.multiplyByScalar(r,s.CesiumMath.EPSILON2,r),t.Cartesian3.add(e,r,e)):s.CesiumMath.equalsEpsilon(n,0,s.CesiumMath.EPSILON2)&&(r=Y(e,a,r),t.Cartesian3.multiplyByScalar(r,s.CesiumMath.EPSILON2,r),t.Cartesian3.add(a,r,a))}function Te(e,a){var t=Math.abs(e.longitude),i=Math.abs(a.longitude);if(s.CesiumMath.equalsEpsilon(t,s.CesiumMath.PI,s.CesiumMath.EPSILON11)){var n=s.CesiumMath.sign(a.longitude);return e.longitude=n*(t-s.CesiumMath.EPSILON11),1}if(s.CesiumMath.equalsEpsilon(i,s.CesiumMath.PI,s.CesiumMath.EPSILON11)){var r=s.CesiumMath.sign(e.longitude);return a.longitude=r*(i-s.CesiumMath.EPSILON11),2}return 0}var Me=new i.Cartographic,Ee=new i.Cartographic,be=new t.Cartesian3,Pe=new t.Cartesian3,Oe=new t.Cartesian3,Ie=new t.Cartesian3,Le=new t.Cartesian3,Se=new t.Cartesian3,ke=[Me,Ee],Ae=new e.Rectangle,De=new t.Cartesian3,Ne=new t.Cartesian3,xe=new t.Cartesian3,Re=new t.Cartesian3,He=new t.Cartesian3,Ve=new t.Cartesian3,ze=new t.Cartesian3,je=new t.Cartesian3,Ge=new t.Cartesian3,Be=new t.Cartesian3,We=new t.Cartesian3,Fe=new t.Cartesian3,Ye=new t.Cartesian3,Xe=new t.Cartesian3,qe=new c.EncodedCartesian3,Ue=new c.EncodedCartesian3,Ze=new t.Cartesian3,Qe=new t.Cartesian3,Je=new t.Cartesian3,Ke=[new e.BoundingSphere,new e.BoundingSphere],$e=[0,2,1,0,3,2,0,7,3,0,4,7,0,5,4,0,1,5,5,7,4,5,6,7,5,2,6,5,1,2,3,6,2,3,7,6],ea=$e.length;function aa(e){return new h.GeometryAttribute({componentDatatype:l.ComponentDatatype.FLOAT,componentsPerAttribute:4,normalize:!1,values:e})}return D._projectNormal=fe,function(e,a){return O.initialize().then((function(){return r.defined(a)&&(e=D.unpack(e,a)),D.createGeometry(e)}))}}));
